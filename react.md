# 리액트 기본기 공부

## 리액트의 특징

리액트는 사용자 인터페이스를 만들기 위한 JavaScript 라이브러리다. 이게 끝이다. 그저 view를 위한 라이브러리리다. 그런데 왜 그렇게 리액트에 열광할까?? 그러기 위해서 먼저 리액트의 특징부터 알아보자

1. virtual dom

리액트는 virtual dom 즉 가상 돔을 사용한다. 이전과 현재 값(state)을 비교해 달라지는 부분을 변경하는데 이 과정에서 가상 돔과 diff 알고리즘을 이용한다. 가상 돔이 있어서 손쉽게 개발자가 코드를 작성할 수 있다. 가상 돔이 없다고 가정해보자. 원하는 부분만 변경하는게 쉽지 않다. 물론 가능은 하지만 코드가 굉장히 지저분해진다. 그래서 전체를 렌더링하기도 한다. 나는 불완전한 방법으로 업데이트가 가능한 컴포넌트 추상 클래스밖에 만들지 못했다. 리액트를 사용하면 편하게 원하는 부분만 변경할 수 있다. 또한 브라우저 속도에서도 이점이 있다. DOM 조작을 할때 reflow, repaint가 발생하는데 virtual dom으로 바뀌는 부분을 한번에 바꿔버리면 연산 비용이 줄어든다. 이 연산이 끝나고 최종적인 변화만 실제 dom에 적용시켜준다.

2. 컴포넌트

리액트는 캡슐화된 컴포넌트를 조합해서 UI를 만든다. DOM을 신경쓰지 않아도 되기때문에 바닐라자바스크립트를 이용하는 것 보다 편하고 컴포넌트 기반이라 구조를 파악하기 쉽고 재사용도 용이하다.

3. JSX

JSX는 JavascriptXml의 약자이다. 말 그대로 자바스크립트를 xml처럼 사용할 수 있게 해주는 리액트의 문법이다. 이를 사용하면 컴포넌트를 쉽게 구성할 수 있다. jsx를 바벨을 통해서 변환해주는 과정을 거친다. map을 사용하는 경우에는 key를 사용한다. Key는 React가 어떤 항목을 변경, 추가 또는 삭제할지 식별하는 것을 돕는다. key는 엘리먼트에 안정적인 고유성을 부여하기 위해 배열 내부의 엘리먼트에 지정해야 한다. 그렇기 때문에 map의 index를 절대 key로 넣어서는 안된다.

ex)
변환전

```
const ex = () => {
  const [state, useState]=useState([1, 2, 3]);
  return (
    <div>
      {state.map((v) => (
        <div key={v}>v</div>
      ))}
    </div>
  );
};
```

변환후

```
const ex = () => {
  const [state, useState] = useState([1, 2, 3]);
  return /*#__PURE__*/React.createElement("div", null, state.map(v => /*#__PURE__*/React.createElement("div", {
    key: v
  }, "v")));
};
```

4. 오직 유저 인터페이스를 위한 라이브러리

리액트의 공식 홈페이지 설명처럼 인터페이스 즉 뷰를 위한 라이브러리다. 그말은 다른 여러가지 라이브러리, 프레임워크와 호환성이 좋다는 것이다. 리액트를 사용하면서 거의 대부분의 라이브러리가 호환이 가능하다. 이것은 엄청난 장점이다.

5. 압도적인 이용자 수

리액트의 특징은 아니지만 이용자 수가 많다는 것은 엄청난 장점이다. 커뮤니티도 활성화 되어있고 자료도 굉장히 많다. 국내에만 해도 리액트 책, 강의가 쏟아져나온다. 또한 취직을 해도 가장 많이 사용하는 기술 스택이 리액트다. 기술 스택이 가장 중요한 것은 아니지만 그래도 기술 스택이 맞으면 유리하다. 2021 12 02기준으로 angular:vue:react = 1:2:5 정도 된다.

## 리액트 단점

1. 리액트는 한번에 모든 내용을 가져오기 때문에 프로젝트가 커지게 되면 시간이 많이 걸린다.

코드 스플리팅 사용

2. 리액트는 CSR(Client Side Rendering)이다. 이는 장단점이 있는데 로딩이 느린대신 작업이 빠르다. 가장 큰 단점은 검색엔진 문제이다. CSR은 처음에 HTML이 비어있기 때문에 웹 크롤링을 하지 못한다.

구글은 CSR을 크롤링할 수 있고 앞으로 다른 사이트들도 가능해질 것이다. + 리액트는 SSR(Server Side Rendering)을 지원한다.

3. 단방향 데이터 바인딩

리액트는 단방향 데이터 바인딩을 한다. 그렇기 때문에 데이터의 흐름을 파악하기 쉽지만 코드량이 많아진다. 꼭 단점이라고 할 수는 없지만 단방향 데이터 바인딩을 선호하지 않는 사람들은 리액트를 선호하지 않는다.

4. 느리다

리액트는 느리다. 응?? virtaul dom으로 빠르다며?? 정확히는 직접 구현하면 더 빠르게 만들 수 있다. 하지만 프로젝트 규모가 커지면 이를 직접 관리하기가 어렵기 때문에 리액트를 사용한다. 그래서 간단한 프로젝트라면 리액트를 꼭 사용하지 않아도 좋다. 뭐든지 유동적으로...

5. 무식한 업데이트

리액트는 트리구조로 되어있는데 a트리의 한 부분과 b트리의 한 부분이 다르다면 거 아래 전체를 바꿔버린다. 이건 효율적인 방법이 아니다. 리액트가 그래도 빠르다고 하는 이유는 diff 알고리즘의 시간 복잡도를 줄였기 때문이다. 조금 효율적으로 사용하려면 react memo, usecallback, usememo등을 이용해 최적화를 해줘야 한다. 여기서도 무조건적으로 memo를 적용하는게 아니라 적절한 상황에만 memo를 해줘야한다. 이는 개발자의 역량에 달렸다.

## 디자인 패턴과 상태관리

## 클래스형 vs 함수형
